@model SimplCommerce.Module.ShoppingCart.Areas.ShoppingCart.ViewModels.CartVm

<h3>Chi tiết đơn hàng</h3>
<div class="g-bg-gray-light-v5 g-pa-20 g-pb-50 mb-4">
    <h4 class="h6 text-uppercase mb-3">THÔNG TIN ĐƠN HÀNG</h4>

    <!-- Accordion -->
    <div id="accordion-03" class="mb-4" role="tablist" aria-multiselectable="true">
        <div id="accordion-03-heading-03" class="g-brd-y g-brd-gray-light-v2 py-3" role="tab">
            <h5 class="g-font-weight-400 g-font-size-default mb-0">
                <a class="g-color-gray-dark-v4 g-text-underline--none--hover" href="#accordion-03-body-03" data-toggle="collapse" data-parent="#accordion-03" aria-expanded="false" aria-controls="accordion-03-body-03">
                    3 items in cart
                    <span class="ml-3 fa fa-angle-down"></span>
                </a>
            </h5>
        </div>
        <div id="accordion-03-body-03" class="collapse" role="tabpanel" aria-labelledby="accordion-03-heading-03">
            <div class="g-py-15">
                @*<ul class="list-unstyled mb-3">
                    @foreach (var item in Model.Items)
                    {
                        <li class="d-flex justify-content-start">
                            <img class="g-width-100 g-height-100 mr-3">
                            <div class="d-block">
                                <h4 class="h6 g-color-black">@item.ProductName</h4>
                                <span class="d-block g-color-black g-font-weight-400">Số lương: @item.Quantity</span>
                                <span class="d-block g-color-black g-font-weight-400">Giá: @item.ProductPriceString</span>
                            </div>
                        </li>
                    }
                </ul>*@
                <table>
                    <tr>
                        <th>Sản phẩm</th>
                        <th class="text-center">SL</th>
                        <th class="text-right">Giá</th>
                    </tr>
                    @foreach (var item in Model.Items)
                    {
                        <tr>
                            <td>
                                @item.ProductName
                                @if (item.VariationOptions.Any())
                                {
                                    <ul class="list-unstyled">
                                        @foreach (var attr in item.VariationOptions)
                                        {
                                            <li><span>@attr.OptionName:</span> @attr.Value</li>
}
                                    </ul>}
                            </td>
                            <td class="text-center">@item.Quantity</td>
                            <td class="text-right">@item.ProductPriceString</td>
                        </tr>
}
                </table>
            </div>
        </div>
    </div>
    <!-- End Accordion -->

    <div class="d-flex justify-content-between mb-2">
        <span class="g-color-black">Tổng giá</span>
        <span class="g-color-black g-font-weight-300">@Model.SubTotal</span>
    </div>
    @if (!Model.IsProductPriceIncludeTax)
    {
        <div class="d-flex justify-content-between mb-2">
            <span class="g-color-black">Tax</span>
            <span class="g-color-black g-font-weight-300">@Model.TaxAmountString</span>
        </div>
    }
    <div class="d-flex justify-content-between mb-2">
        <span class="g-color-black">Giảm giá</span>
        <span class="g-color-black g-font-weight-300">@Model.DiscountString</span>
    </div>
    <div class="d-flex justify-content-between mb-2">
        <span class="g-color-black">
            <strong>Thành Tiền</strong>
            @if (Model.IsProductPriceIncludeTax)
                @if (Model.IsProductPriceIncludeTax)
                {
                    <span> (Đã bao gồm VAT)</span>
                }
        </span>
        <span class="g-color-black g-font-weight-300">@Model.OrderTotalString</span>
    </div>
</div>
